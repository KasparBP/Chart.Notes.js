<!doctype html>
<html>
<head>
    <title>Line Chart</title>
    <script src="../node_modules/chart.js/dist/chart.umd.js"></script>
    <script src="../build/chart.notes.umd.js"></script>
    <style>
    canvas {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
    }
    </style>
</head>
<body>
    <br /><br />
    <div style="width:100%;">
        <canvas id="canvas"></canvas>
    </div>
<script>
    const config = {
        type: 'line',
        data: {
            labels: ["00:00", "00:30", "01:00", "01:30", "02:00", "02:30", "03:00", "03:30", "04:00", "04:30", "05:00", "05:30", "06:00", "06:30", "07:00", "07:30", "08:00", "08:30", "09:00", "09:30", "10:00", "10:30", "11:00", "11:30", "12:00", "12:30", "13:00", "13:30", "14:00", "14:30", "15:00", "15:30", "16:00", "16:30", "17:00", "17:30", "18:00", "18:30", "19:00", "19:30", "20:00", "20:30", "21:00", "21:30", "22:00", "22:30", "23:00", "23:30"],
            datasets: [{
                label: "Yesterday",
                pointRadius: 4,
                pointHoverRadius: 6,
                borderColor: "rgba(242,208,107,1)",
                backgroundColor: "rgba(242,208,107,0.2)",
                data: ["27.46", "27.43", "27.4", "27.395", "27.39", "27.36", "27.33", "27.33", "27.33", "27.33", "27.33", "27.3", "27.27", "27.265", "27.26", "27.28", "27.3", "27.365", "27.43", "27.555", "27.68", "27.575", "27.47", "27.35", "27.23", "27.405", "27.58", "27.535", "27.49", "27.48", "27.47", "27.435", "27.4", "27.49", "27.58", "27.565", "27.55", "27.6", "27.65", "27.71", "27.77", "27.745", "27.72", "27.695", "27.67", "27.645", "27.62", "27.68"],
                plugins: {
                    notes: {
                        notes: [
                            {offset: 10, text: "Dataset 1 note 1"},
                            {offset: 20, text: "Dataset 1 note 2"}
                        ]
                    }
                }
            }, {
                label: "Today",
                pointRadius: 4,
                pointHoverRadius: 6,
                borderColor: "rgba(166,85,15,1)",
                backgroundColor: "rgba(166,85,15,0.2)",
                data: ["27.74", "27.695", "27.65", "27.635", "27.62", "27.6", "27.58", "27.575", "27.57", "27.565", "27.56", "27.54", "27.52", "27.525", "27.53", "27.485", "27.44", "27.435", "27.43", "27.46", "27.49", "27.465", "27.44", "27.64", "27.84", "27.76", "27.68", "27.44", "27.2", "27.285", "27.37", "27.315", "27.26", "27.28", "27.3", "27.31", "27.32", "27.425", "27.53", "27.565", "27.6", "27.575", "27.55", "27.515", "27.48", "27.48", null, null],
                plugins: {
                    notes: {
                        notes: [
                            {offset: 1, text: "Shrt."},
                            {offset: 5, text: "Dataset 2 a long note, that will not fit within max width"}
                        ]
                    }
                }
            }]
        },
        options: {
            plugins: {
                notes: {
                    onClick: function (event, note) {
                        console.log("Note clicked: " + note.text);
                    }
                }
            },
            responsive: true,
            title: {
                display: true,
                text: 'Chart.js Line Chart'
            },
            legend: {
                display: true,
                position: 'bottom'
            },
            scales: {
                x: {
                    grid: {
                        display: false,
                        drawTicks: false
                    }
                },
                y: {
                    type: 'linear',
                    position: 'left',
                    label: 'kg',
                    ticks: {
                        callback: function (value) {
                            return parseFloat(value).toFixed(2);
                        },
                        maxTicksLimit: 12
                    }
                }
            },
            onClick: function () {
                console.log("onClick");
            }
        }
    };
    window.onload = function() {
        const ctx = document.getElementById("canvas").getContext("2d");
        window.myLine = new Chart(ctx, config);
    };
</script>

</body>
</html>
